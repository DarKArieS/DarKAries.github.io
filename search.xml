<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Java 執行緒安全 Double-checked Locking</title>
      <link href="/2019/04/18/double-check-locking/"/>
      <url>/2019/04/18/double-check-locking/</url>
      
        <content type="html"><![CDATA[<p>有一天，在Google提供的<a href="https://github.com/googlesamples/android-Notifications" target="_blank" rel="noopener">範例</a>中讀到一段程式碼，當下不是很理解為什麼要這樣寫。</p><p>這是一段關於懶人<s>丹利</s>單例生成實例的程式碼：</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public static class InboxStyleEmailAppData extends MockNotificationData &#123;</span><br><span class="line">    private static InboxStyleEmailAppData sInstance = null;</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">    public static InboxStyleEmailAppData getInstance() &#123;</span><br><span class="line">        if (sInstance == null) &#123;</span><br><span class="line">            sInstance = getSync();</span><br><span class="line">        &#125;</span><br><span class="line">        return sInstance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static synchronized InboxStyleEmailAppData getSync() &#123;</span><br><span class="line">        if (sInstance == null) &#123;</span><br><span class="line">            sInstance = new InboxStyleEmailAppData();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return sInstance;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>看完後覺得奇怪，產生實體只要靠getSync()就可以完成了，為什麼還要再加上一層getInstance()並且再次確認靜態成員是否為null ?</p><p>經過高人提示，關鍵字為雙重鎖，立刻餵狗。</p><p>然後發現自己其實以前有讀過<a href="https://blog.csdn.net/fly910905/article/details/79286680" target="_blank" rel="noopener">這一篇</a>，顯然沒有記到腦子裡。</p><p>根據<a href="https://en.wikipedia.org/wiki/Double-checked_locking" target="_blank" rel="noopener">Wiki</a>，確保線程安全的單例的確只需要getSync()來生成或取得實體就可以了。<br>synchronized關鍵字確保當兩個執行緒同時在實體尚未生成時使用該方法，不會同時生成兩個實體，使得其中一個執行緒拿不到正確的sInstance成員。</p><p>但是如果每次要獲取單例實體時都使用帶有synchronized關鍵字的方法，系統必須要重複執行上鎖/解鎖的程序。當單例實體已經被生成後，這個鎖就顯得很不必要，且會降低系統效能。因此在外層又再加上一層不帶synchronized的null check函式，當單例實體存在時就不會再經過上鎖/解鎖的程序了。</p><p>看起來萬無一失，但故事還沒完。</p><p>有一天，執行緒A呼叫了單例方法，他注意到了沒有單例實體，於是繼續呼叫getSync()來生成實體。<br>在執行緒A還在忙的時候，執行緒B來了。B發現A已經來過了，於是很放心的把單例拿出去用了。</p><p>糟糕的是，A其實這時候還沒有忙完，B拿到的是不成熟的，還沒做好的實體(partially constructed object)，於是B並沒辦法真正的使用它，只好躺在地上死給你看(Crash)。</p><p>以上的故事，根據編譯器、快取機制等等各種因素，並不一定每次都會發生。</p><p>據說<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>在某個java版本以後，擴展了語意的volatile關鍵字加入了happens-before relationship的機制，可以解決這個問題。</p><p>volatile的原意為當每次要使用該變數時都會讀取當下的值，而不是使用快取的值。而happens-before relationship更進一步確立每次讀寫的順序，類似mutex的機制。</p><p>那要如何使用呢?<br>只要將sInstance宣告加入volatile就可以了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">private volatile static InboxStyleEmailAppData sInstance = null;</span><br></pre></td></tr></table></figure><p>另外還可以在函式中加入Local variable，來降低存取volatile物件的次數，據說可以提升25%的效能。</p><p>像是Wiki中舉的例子:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// Works with acquire/release semantics for volatile in Java 1.5 and later</span><br><span class="line">// Broken under Java 1.4 and earlier semantics for volatile</span><br><span class="line">class Foo &#123;</span><br><span class="line">    private volatile Helper helper;</span><br><span class="line">    public Helper getHelper() &#123;</span><br><span class="line">        Helper localRef = helper;</span><br><span class="line">        if (localRef == null) &#123;</span><br><span class="line">            synchronized (this) &#123;</span><br><span class="line">                localRef = helper;</span><br><span class="line">                if (localRef == null) &#123;</span><br><span class="line">                    helper = localRef = new Helper();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return localRef;</span><br><span class="line">    &#125;</span><br><span class="line">    // other functions and members...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>存取volatile成員只在第一次localRef賦值的時候發生。</p><p>volatile關鍵字的作用似乎在每個不同的語言有不同的功能，像是C語言就不同於Java。老實說，我讀了半天，除了C語言的volatile會強調移除編譯器最佳化的功能外，我還是沒辦法強烈的感受到java與c兩者之間的不同，也許要懂底層的實作才有辦法了解，不過先在此打住好了。</p><p>以上純屬看著維基嘴砲，並無實驗佐證。<br>有任何錯誤歡迎提出😃</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>據說是J2SE 5.0，但要確切的版本得去翻oracle的Doc，先放棄好了。參見wiki: <a href="https://en.wikipedia.org/wiki/Double-checked_locking" target="_blank" rel="noopener">Double-checked_locking</a>、<a href="https://en.wikipedia.org/wiki/Volatile_(computer_programming)" target="_blank" rel="noopener">Volatile</a> <a href="#fnref1" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初試 AndroidX，解決 Didn&#39;t find class &quot;android.support.design.widget....&quot; 問題</title>
      <link href="/2019/03/19/NewToAndroidX/"/>
      <url>/2019/03/19/NewToAndroidX/</url>
      
        <content type="html"><![CDATA[<p>某次Android Studio更新<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>之後，偶然發現在創建新專案時多了個沒看過的選項：<br><code>Use AndroidX artifacts</code></p><img src="https://i.imgur.com/7yTBrJc.png" width="75%"><p>依官網的<a href="https://developer.android.com/jetpack/androidx" target="_blank" rel="noopener">說明</a>，這是個加強版的 <a href="https://developer.android.com/topic/libraries/support-library/index" target="_blank" rel="noopener">Android Support Library</a></p><p>勾勾看會發生什麼事吧！</p><a id="more"></a><h3 id="問題很快的就來了"><a class="header-anchor" href="#問題很快的就來了">¶</a>問題很快的就來了！</h3><p>在調用某些物件後，在執行時期出現了找不到各種class的情況。(Build沒有問題)</p><p>例如，從IDE中拖個AppBarLayout出來，Build完成後執行，App Crash：</p><blockquote><p>Error inflating class android.support.design.widget.CoordinatorLayout<br>…<br>Didn’t find class “android.support.design.widget.CoordinatorLayout” on path: …</p></blockquote><p>欸？<br><code>android.support.design</code>不是應該很理所當然的已經加進Gradle了嗎？<br>打開app gradle file瞧瞧。</p><img src="https://i.imgur.com/ytuQRpJ.png" width="90%"><p>發現相關的Library都被換成帶有AndroidX關鍵字的版本。</p><p>仔細瞧瞧XML檔，發現IDE為你準備的物件仍舊來自於 <code>Andorid.Support.XXX</code> ：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">android.support.design.widget.CoordinatorLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.AppBarLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/appbar"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"192dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>那我們自己加吧！手動的把Android.support.xxx加進來了，問題仍舊存在，依然是可Build不可執行。</p><h3 id="解決方式"><a class="header-anchor" href="#解決方式">¶</a>解決方式</h3><p>忙了一天，終於發現，只需要把xml內的物件依照<a href="https://developer.android.com/jetpack/androidx/migrate" target="_blank" rel="noopener">這個列表</a>替換就解決了。</p><p>期望之後Android Studio更新後能自動抓取對應的Library，不用再手動更改了！</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>寫這篇的時候使用的是Android Studio 3.3.2 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Android Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android native </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android App 避免螢幕鍵盤蓋住RecyclerView底部內容的方法</title>
      <link href="/2019/03/19/keyboardandLayout/"/>
      <url>/2019/03/19/keyboardandLayout/</url>
      
        <content type="html"><![CDATA[<p>最近以練功為目的寫了一個簡單的<a href="https://github.com/DarKArieS/ChatNow" target="_blank" rel="noopener">聊天室App</a>，遇到了一個跟彈出鍵盤有關的問題：如何不讓鍵盤遮住RecyclerView最底部的內容。</p><img src="https://i.imgur.com/x5Wh6Kx.gif" width="30%"><a id="more"></a><p>剛開始解決這個問題的思路是寫一個View繼承自editText View並改寫<code>onTouchEvent</code>內彈出鍵盤的方法。研究了下源碼後發現裡面所調用方法跟成員有不少是無法改寫的。</p><p>在網路上查了一下監聽螢幕鍵盤彈出的方法，最有效的方法為監聽Layout的改變。在屬於Layout的view中加入<code>LayouyChangeListener</code>，並在監聽內加入滑到最底部的方法。</p><p>對於每次都滑到最底部感到不滿意，於是改成Layout改變時自動滑動Layout的改變量，營造出內容隨著鍵盤被推起來的效果。<br>不過這個方法在滑到最底部的時候會有滑過頭的問題，而在ViewHolder大小為動態的情況下我們無法得知RecyclerView還有多少可以滑動，想了半天還是無法解決。</p><p>有一天，很偶然的，發現其實只要一行就可以解決這個問題。😒<br>在RecyclerView的LayoutManager中加入這一行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">layoutManager.stackFromEnd = true</span><br></pre></td></tr></table></figure><p>使得RecyclerView在生成的時候是以底部為基準。<br>當鍵盤推出時，為了不擋住最底部的View，自然就會跟著被推起來。</p><img src="https://i.imgur.com/iNluFyT.gif" width="30%"><p>讓我們緬懷那些已經失去的時光 😑</p>]]></content>
      
      
      <categories>
          
          <category> Android Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android native </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ Lambda Function</title>
      <link href="/2019/03/04/C-LambdaFunction/"/>
      <url>/2019/03/04/C-LambdaFunction/</url>
      
        <content type="html"><![CDATA[<p>今天打開了久違的<a href="https://leetcode.com" target="_blank" rel="noopener">LeetCode</a>，用C++寫了題Easy。</p><p>寫完看了看別人的解，突然發現原來C++ 在C++11 也有了lambda function的寫法，寫一篇文以玆紀念。</p><p><a href="https://zh.wikipedia.org/wiki/C%2B%2B11" target="_blank" rel="noopener">Reference</a></p><a id="more"></a><h2 id="基礎用法"><a class="header-anchor" href="#基礎用法">¶</a>基礎用法</h2><p>最簡單的結構長得像這樣：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[](<span class="keyword">int</span> x, <span class="keyword">int</span> y) &#123; <span class="keyword">return</span> x + y; &#125;</span><br></pre></td></tr></table></figure><p>在這裡三種括號都用上了，來看看它們都做了些什麼。</p><ul><li>(): Function傳入值</li><li>{}: Function主要功能</li><li>[]: Closure的傳值方式</li></ul><p>如果要規定function的return類型(例如返回int)，改寫成：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[](<span class="keyword">int</span> x, <span class="keyword">int</span> y)-&gt; <span class="keyword">int</span> &#123; <span class="keyword">int</span> z = x+y; <span class="keyword">return</span> z; &#125;</span><br></pre></td></tr></table></figure><p>稍微測試了一下，似乎還沒遇到非得指定return類型的情況。<br>有經驗的高人可以指點一下😛</p><p>把它當物件使用時要使用auto關鍵字宣告</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">runLambda</span><span class="params">(<span class="keyword">int</span> (*f)(<span class="keyword">int</span>,<span class="keyword">int</span>), <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;<span class="built_in">cout</span>&lt;&lt;f(x,y)&lt;&lt;<span class="built_in">endl</span>;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; someList(<span class="number">5</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">int</span> total = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">auto</span> y = [](<span class="keyword">int</span> x, <span class="keyword">int</span> y) &#123; <span class="keyword">int</span> z = x+y; <span class="keyword">return</span> z; &#125;;</span><br><span class="line">A a;</span><br><span class="line">a.runLambda(y,<span class="number">10</span>,<span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="閉包-closure"><a class="header-anchor" href="#閉包-closure">¶</a>閉包 (Closure)</h2><p>當Lambda function的功能會需要用到外部的變數時，必須將傳入function的方法事先在<code>[]</code>中設定好。<br>有以下幾種組合：</p><ul><li>[]：不使用閉包，如果內部有使用其他scope外的變數會報錯</li><li>[=]：全部使用傳值的方式</li><li>[&amp;]：全部使用傳址的方式</li><li>[x, &amp;y]：x變數用傳值，y變數用傳址，如果內部有使用其他未定義的scope外變數會報錯</li><li>[&amp;,x]：除了x使用傳值之外，其他使用傳址</li><li>[=,&amp;x]：除了x使用傳址之外，其他使用傳值</li></ul><p>看個範例就可以了解了，範例來自<a href="https://zh.wikipedia.org/wiki/C%2B%2B11" target="_blank" rel="noopener">Reference</a>。</p><p>定義特定的值傳址：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; someList;</span><br><span class="line"><span class="keyword">int</span> total = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">std</span>::for_each(someList.begin(), someList.end(), [&amp;total](<span class="keyword">int</span> x) &#123;</span><br><span class="line">     total += x;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; total;</span><br></pre></td></tr></table></figure><p>不定義特定的，全部都傳址：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; someList;</span><br><span class="line"><span class="keyword">int</span> total = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">std</span>::for_each(someList.begin(), someList.end(), [&amp;](<span class="keyword">int</span> x) &#123;</span><br><span class="line">    total += x;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; total;</span><br></pre></td></tr></table></figure><p>如果在物件裡使用，且function內容需要使用物件成員的內部成員，需要傳入this pointer</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">int</span> x=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> y=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">runOp</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">auto</span> f = [<span class="keyword">this</span>]() &#123; <span class="keyword">int</span> z = <span class="keyword">this</span>-&gt;x+<span class="keyword">this</span>-&gt;y; <span class="keyword">return</span> z; &#125;;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;f()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">A a;</span><br><span class="line">a.x=<span class="number">5</span>;</span><br><span class="line">a.y=<span class="number">10</span>;</span><br><span class="line">a.runOp();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android 原生計量條動畫設計</title>
      <link href="/2019/01/14/android-progress-bar/"/>
      <url>/2019/01/14/android-progress-bar/</url>
      
        <content type="html"><![CDATA[<p>應用程式中，免不了需要進度條來顯示各種進度，像是下載進度、處理進度等。而遊戲中的計量條(例如血條)，在變化時更是需要輔以酷炫的動畫增進視覺效果。</p><p>這篇文章會使用android SDK原生功能以及ProgressBar來製作隨著倒數計時器變化的計量條，並且在增減時間時有酷炫的動畫。</p><a id="more"></a><p>預計會達到如下的效果：</p><ul><li>一般情形：</li></ul><p><img src="https://i.imgur.com/ys9a4wW.gif" alt=""></p><ul><li><p>時間增加：計量條閃爍，並且有像是格鬥遊戲扣血時的延遲動畫<br><img src="https://i.imgur.com/y1nU64V.gif" alt=""></p></li><li><p>時間減少：倒扣時計量條黑色閃爍<br><img src="https://i.imgur.com/tPyiEIc.gif" alt=""></p></li></ul><p>簡單的程式架構如下：</p><p><img src="https://i.imgur.com/UfGqUsA.png" alt="" width="300" height="150"></p><ul><li><p>Activity/Fragment中的按鈕送出更改剩餘時間的訊息給Timer、同時送出播放動畫的請求給Animator</p></li><li><p>Timer負責倒數計時，並要求Animator更新Progress Bar</p></li><li><p>Progress Bar被Animator控制，顯示剩餘時間以及播放動畫</p></li></ul><p>原始碼可以在<a href="https://github.com/DarKArieS/JettPuzzleGame2/tree/1.ProgressBar" target="_blank" rel="noopener">這裡</a>找到</p><h2 id="計量條外觀設置"><a class="header-anchor" href="#計量條外觀設置">¶</a>計量條外觀設置</h2><p>原生提供的ProgressBar共有兩種繪製形式，一種是討厭的轉圈圈，我們需要的是另一種長條形的ProgressBar Horizontal。</p><p><img src="https://i.imgur.com/HKk4Ivu.gif" alt=""></p><p>而ProgressBar又有分成計量型(Determinate)與無限<s>吃到飽</s>型(Indeterminate)，我們需要的是計量型來顯示進度。</p><p><img src="https://i.imgur.com/gUgv83C.gif" alt=""></p><p>官方原生只有提供水平進度條。如果想使用圓形形式顯示進度，可以<a href="https://github.com/Hellobird/CircleSeekBar-For-Android" target="_blank" rel="noopener">參考這裡</a>。</p><p>原生的樣式有點細，讓我們重新設計ProgressBar的樣式。<br>建立一個time_bar.xml，程式碼如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@android:id/background"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">"5dip"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">solid</span> <span class="attr">android:color</span>=<span class="string">"#88000000"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@android:id/secondaryProgress"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">clip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">"5dip"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:angle</span>=<span class="string">"270"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerColor</span>=<span class="string">"#C6B7FF"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerY</span>=<span class="string">"0.75"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:endColor</span>=<span class="string">"#C3B2FF"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:startColor</span>=<span class="string">"#B9A4FF"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">clip</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@android:id/progress"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">clip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">"5dip"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:angle</span>=<span class="string">"270"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerColor</span>=<span class="string">"#74EBFF"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:centerY</span>=<span class="string">"0.75"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:endColor</span>=<span class="string">"#8EEFFF"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:startColor</span>=<span class="string">"#57E8FF"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">clip</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure><p>根據多方教學以及官方文檔，ProgressBar Drawable xml 必須為LayerDrawable，並包含三個部分：background(背景)、progress(主要進度條)、secondaryProgress(次要進度條)</p><p>進度條顯示計量進度是由clipDrawable控制，因此progress以及SecondaryProgress必須包在clip tag中。</p><p>值得注意的一點是，這邊的id形式為internal ID：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:id=&quot;@android:id/progress</span><br></pre></td></tr></table></figure><p>，並非我們在layout xml中使用的ID：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:id=&quot;@+id/...</span><br></pre></td></tr></table></figure><p>這類的id為android SDK已經事先定義好並用於SDK中的各個物件，無法隨意更改。</p><p>要取得擁有該id的物件沒辦法依靠常用的getViewById，方法如下：</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> progressBarDrawable = (progressBar.progressDrawable <span class="keyword">as</span> LayerDrawable)</span><br><span class="line">        .findDrawableByLayerId(Resources.getSystem().getIdentifier(<span class="string">"progress"</span>,<span class="string">"id"</span>,<span class="string">"android"</span>))</span><br></pre></td></tr></table></figure><p>等會兒製作<a href="#1">閃爍動畫</a>時會用上。</p><p>最後，在layout xml中需要注意的內容如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/timerProgressBar"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:progressDrawable</span>=<span class="string">"@drawable/time_bar"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">style</span>=<span class="string">"@android:style/Widget.DeviceDefault.Light.ProgressBar.Horizontal"</span>/&gt;</span></span><br></pre></td></tr></table></figure><h2 id="計時器"><a class="header-anchor" href="#計時器">¶</a>計時器</h2><p>寫一個timer class，內容如下：</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.os.Handler</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GameTimer</span></span>(<span class="keyword">private</span> <span class="keyword">var</span> timerBarController: GameTimer.TimerBarController)&#123;</span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">TimerBarController</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">timerOnUpdate</span><span class="params">()</span></span></span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">timesUp</span><span class="params">()</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> secondsCount = <span class="number">40f</span></span><br><span class="line">    <span class="keyword">var</span> maxTimeInSeconds = secondsCount</span><br><span class="line">    <span class="keyword">var</span> isOnStart = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> stopTimer = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> timerThread: Thread</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> handlerUI = Handler()</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> runnable: Runnable</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">startTimer</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(!isOnStart)&#123;</span><br><span class="line">            isOnStart = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">            timerThread = Thread&#123;</span><br><span class="line">                <span class="keyword">while</span>(secondsCount&gt;=<span class="number">0</span> &amp;&amp; !stopTimer)&#123;</span><br><span class="line">                    Thread.sleep(<span class="number">10</span>) <span class="comment">// 0.01 second</span></span><br><span class="line">                    secondsCount -= <span class="number">0.01f</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!stopTimer)&#123;</span><br><span class="line">                    handlerUI.post&#123;</span><br><span class="line">                        timerBarController.timesUp()</span><br><span class="line">                        stopTimer()</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                println(<span class="string">"timer thread end"</span>)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            runnable = Runnable &#123;</span><br><span class="line">                timerBarController.timerOnUpdate()</span><br><span class="line">                handlerUI.postDelayed(runnable, <span class="number">10</span>)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            stopTimer = <span class="literal">false</span></span><br><span class="line">            timerThread.start()</span><br><span class="line">            handlerUI.postDelayed(runnable, <span class="number">10</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">stopTimer</span><span class="params">()</span></span> &#123;</span><br><span class="line">        stopTimer = <span class="literal">true</span></span><br><span class="line">        isOnStart = <span class="literal">false</span></span><br><span class="line">        handlerUI.removeCallbacks(runnable)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>當中設計了一個介面讓UI端程式實作計時器到期(<code>fun timesUp()</code>)以及更新UI(<code>fun timerOnUpdate()</code>)等事件。</p><p>計時的處理由一個thread負責，每0.01秒會更新一次數值。更新UI的部分則丟到handlerUI處理。<br>由於Thread並不建議被隨意地中止，因此在thread中由布林值<code>isOnStart</code>決定是否停止該計時器。</p><p>實例化計時器時，可以依不同情形配合progressBar設置。<br>像是這個樣子，同時設定計時器以及progressBar：</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// setup timer</span></span><br><span class="line"><span class="keyword">val</span> timeThreshold = <span class="number">40f</span></span><br><span class="line">timer = GameTimer(<span class="keyword">this</span>)</span><br><span class="line">timer.secondsCount = timeThreshold</span><br><span class="line">timer.maxTimeInSeconds = timeThreshold</span><br><span class="line">rootView.timerProgressBar.max = (timeThreshold*<span class="number">100</span>).toInt() <span class="comment">// timer bar resolution: 0.01 second</span></span><br><span class="line">rootView.timerProgressBar.progress = (timeThreshold*<span class="number">100</span>).toInt()</span><br><span class="line">rootView.timerProgressBar.secondaryProgress = (timeThreshold*<span class="number">100</span>).toInt()</span><br></pre></td></tr></table></figure><p>計時器最大值為40秒。由於每0.01秒會更新一次計時器，progressBar的最大值為<code>40*100</code>。<br>每次計時器更新progressBar會使progress值減一，在<a href="#progressBarUI">progressBar UI更新</a>會使用到這個特性。</p><h2 id="延遲動畫"><a class="header-anchor" href="#延遲動畫">¶</a>延遲動畫</h2><p>寫一個class，當中封裝了所需要用到的物件。<br>這邊主要解釋程式的想法，不把整段都貼出來。<br>有興趣的話請洽<a href="https://github.com/DarKArieS/JettPuzzleGame2/tree/1.ProgressBar" target="_blank" rel="noopener">完整程式碼</a>😃</p><h3 id="progressBarUI">progressBar UI更新</h3><p>由於原生的計量條顯示是由clip level所設定，因此將遭到變更的progress值更新到畫面上是一瞬間的事。<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><p>此處藉由控制progress值的增減時機來實現動畫效果。</p><p>首先，timer中的<code>fun timerOnUpdate()</code>負責更新progressBar，執行的內容如下：</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">update</span><span class="params">(progressIncrement: <span class="type">Int</span>, trueProgress: <span class="type">Int</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(isAnimatingUpdatingDelayed) progressBar.incrementProgressBy(progressIncrement)</span><br><span class="line">    <span class="keyword">else</span> progressBar.progress = trueProgress</span><br><span class="line">    progressBar.secondaryProgress = trueProgress</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>這段程式中第二進度條是同步跟著timer走，而當沒有播放動畫時，主進度條亦然。</p><p>如果正在播放動畫，則由progressIncrement這個變數決定要增加或減少多少值，這個值取決於你的計時器以及progress的最大值如何設定。<br>這邊所營造的效果為：在動畫途中，progress仍然會以計時器該有的速度遞減，而不會完全停下來。<br>以此篇文章為例子，每0.01秒更新一次，每次更新progress的數值會減1，也就是<code>progressIncrement=-1</code>。</p><h3 id="時間條增加時-延遲更新的動畫"><a class="header-anchor" href="#時間條增加時-延遲更新的動畫">¶</a>時間條增加時，延遲更新的動畫</h3><p>先放上程式碼：</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">animateUpdatingDelayed</span><span class="params">(delayTime: <span class="type">Long</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!isAnimatingUpdatingDelayed)&#123;</span><br><span class="line">        isAnimatingUpdatingDelayed = <span class="literal">true</span></span><br><span class="line">        Thread&#123;</span><br><span class="line">            Thread.sleep(delayTime)</span><br><span class="line">            <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>..<span class="number">9</span>)&#123;</span><br><span class="line">                progressBar.progress =</span><br><span class="line">                        (progressBar.progress +</span><br><span class="line">                                (progressBar.secondaryProgress - progressBar.progress)* i /<span class="number">10</span>)</span><br><span class="line">                Thread.sleep(<span class="number">50</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            progressBar.progress = progressBar.secondaryProgress</span><br><span class="line">            isAnimatingUpdatingDelayed = <span class="literal">false</span></span><br><span class="line">        &#125;.start()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>設計思路是：開一個thread隨著時間一段一段更新progress的值。</p><p>開頭有個布爾值規定一次只能存在一個延遲動畫用的thread，避免多個thread控制同個物件所造成的crash。</p><p>在thread中，首先先等待一段時間，接下來將progress以及secondaryProgress之間的差值分成10等份依次更新，更新間隔為50 ms。<br>由於先前的<code>fun update()</code>仍然會不停的被計時器呼叫，因此每次更新都必須重新計算一次。<br>在thread運行中時，secondaryProgress是允許被改變的。在這段時間內再次按按鈕secondaryProgress會再度被更新，因次progress必須更快速的追上去。</p><p>程式碼當中有些Magic number(例如分成10等份)，看官有興趣可以將這些數字包成一個功能 😋</p><h2 id="1">閃爍動畫</h2><p>android中的View屬性動畫最基本的僅有移動、旋轉、縮放、淡入淡出，並沒有能改變已繪製物件「色調」的動畫。</p><!-- Show個RPG製作大師改變色調的效果 --><p>菜逼八的我想到這幾種策略：</p><ul><li>1.在欲閃爍的物件上再繪製一層一模一樣的物件，改變該物件的顏色並使用淡入淡出動畫</li><li>2.在欲閃爍的物件上套上ColorFilter，隨著時間改變Filter的數值。</li><li>3.製作一個客製化的View繼承自ProgressBar，該View再多繪製一層遮罩，並且對遮罩使用淡入淡出動畫。</li></ul><p>由於方案一似乎有點蠢，方案三我…還不會😅，在這裡我們使用方案二。</p><p>先放上程式碼：</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">progressShining</span><span class="params">(isDarker:<span class="type">Boolean</span> = <span class="literal">false</span>, shiningTime: <span class="type">Long</span> = <span class="number">1000</span>, shiningDegree: <span class="type">Float</span> = <span class="number">0.25</span>f)</span></span>&#123;</span><br><span class="line">    animStepShining = <span class="number">0</span></span><br><span class="line">    mShiningTime = shiningTime/<span class="number">20</span></span><br><span class="line">    mShiningDegree = shiningDegree</span><br><span class="line">    mIsDarker = isDarker</span><br><span class="line">    <span class="keyword">if</span>(!isAnimatingShining)&#123;</span><br><span class="line">        isAnimatingShining = <span class="literal">true</span></span><br><span class="line">        Thread&#123;</span><br><span class="line">            <span class="keyword">while</span>(animStepShining&lt;animMaxStepShining)&#123;</span><br><span class="line">                <span class="keyword">val</span> step : <span class="built_in">Float</span> = <span class="keyword">when</span>(mIsDarker)&#123;</span><br><span class="line">                    <span class="literal">true</span>-&gt; <span class="keyword">when</span>(animMaxStepShining &lt; <span class="number">3</span>)&#123;</span><br><span class="line">                        <span class="literal">true</span> -&gt; <span class="number">1</span> - (mShiningDegree * (animStepShining.toFloat())/<span class="number">3</span>)</span><br><span class="line">                        <span class="literal">false</span> -&gt; <span class="number">1</span> - mShiningDegree + (mShiningDegree * ((animStepShining-<span class="number">3</span>).toFloat())/<span class="number">17</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="literal">false</span>-&gt; <span class="keyword">when</span>(animMaxStepShining &lt; <span class="number">3</span>)&#123;</span><br><span class="line">                        <span class="literal">true</span> -&gt; <span class="number">1</span> + (mShiningDegree * (animStepShining.toFloat())/<span class="number">3</span>)</span><br><span class="line">                        <span class="literal">false</span> -&gt; <span class="number">1</span> + mShiningDegree - (mShiningDegree * ((animStepShining-<span class="number">3</span>).toFloat())/<span class="number">17</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">val</span> colorFilter = ColorMatrixColorFilter(</span><br><span class="line">                    floatArrayOf(</span><br><span class="line">                        <span class="number">1f</span>*step,<span class="number">0f</span>,<span class="number">0f</span>,<span class="number">0f</span>,<span class="number">0f</span>,</span><br><span class="line">                        <span class="number">0f</span>,<span class="number">1f</span>*step,<span class="number">0f</span>,<span class="number">0f</span>,<span class="number">0f</span>,</span><br><span class="line">                        <span class="number">0f</span>,<span class="number">0f</span>,<span class="number">1f</span>*step,<span class="number">0f</span>,<span class="number">0f</span>,</span><br><span class="line">                        <span class="number">0f</span>,<span class="number">0f</span>,<span class="number">0f</span>,<span class="number">1f</span>,<span class="number">0f</span></span><br><span class="line">                    )</span><br><span class="line">                )</span><br><span class="line">                <span class="comment">// To avoid thread conflicting OxO</span></span><br><span class="line">                handlerUI.post&#123;progressBarDrawable.colorFilter = colorFilter&#125;</span><br><span class="line">                animStepShining ++</span><br><span class="line">                Thread.sleep(mShiningTime)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(animStepShining&gt;=animMaxStepShining)&#123;</span><br><span class="line">                handlerUI.post&#123;progressBarDrawable.clearColorFilter()&#125;</span><br><span class="line">                isAnimatingShining = <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>設計思路雷同於延遲動畫，不過動畫分成兩段。<br>以閃白光為例，由20次loop來呈現突然變亮之後漸漸轉暗的效果：變亮(3)-&gt;變暗(17)，而黑色閃爍則反過來。</p><p>開頭三個變數是class的成員，寫在function外使得該他們可以在thread運行時被改變。同樣地，有個布爾值規定一次只能存在一個閃爍動畫用的thread。當在閃爍期間再次按下按鈕時，所有動畫進度相關的變數會被重置，再次播放全新的閃爍動畫。</p><p>簡單的解釋一下ColorMatrix的運作原理。<br>在Android drawable中，ColorFilter共分成三種：<br>ColorMatrixColorFilter、LightingColorFilter、PorterDuffColorFilter</p><p>本篇使用的ColorMatrix必須配合以下公式轉換整個drawable的像素顏色：</p><p><img src="https://i.imgur.com/20YcKH6.png" alt="" width="300" height="200"></p><p>以白光閃爍為例，不改變Alpha值，最亮的白色為<code>(R,G,B)=(1f,1f,1f)</code><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>，因此ColorMatrix設計成使得改變後的色彩為原色彩值一同乘上大於一的值，並依照動畫進程計算乘上的大小。而變暗則反過來乘上小於一的值。</p><p><img src="https://i.imgur.com/Bai5vHW.png" alt="" width="300" height="200"></p><p>簡化成上面的式子，白光閃爍所用的值為 R<sub>R</sub> = G<sub>G</sub> = B<sub>B</sub> &gt; 1。</p><p>如果想改成其他的閃爍顏色，只要調整 R<sub>R</sub> , G<sub>G</sub>, B<sub>B</sub> 之間的比例就可以了。</p><p>而其他兩種不會用到的功能簡單地說：</p><ul><li>LightingColorFilter: ColorMatrix特定公式的版本，等同於我們變亮變暗所使用的式子再加上(R<sub>C</sub>,G<sub>C</sub>,B<sub>C</sub>)這一項</li><li>PorterDuffColorFilter: 依照不同的模式將特定範圍的顏色替換。由於不曉得閃光顏色的漸變時所呈現的每一種顏色，故無法實現我們想要的效果。而顏色的alpha值只會讓原物件變成半透明，背景會透出來。</li></ul><p>較詳細的說明可以參考<a href="https://blog.csdn.net/allen315410/article/details/45059989" target="_blank" rel="noopener">這一篇</a>。</p><h2 id="結語"><a class="header-anchor" href="#結語">¶</a>結語</h2><p>將以上兩種動畫結合起來即可呈現出文章開頭的動畫效果。<br>方法老實說有點粗糙😖，也許比較理想的方式是客製化的View，不過表現也算令人滿意(吧?)</p><p>第一次寫文，請多指教 😃</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>Android API &gt; 24 提供了<code>setProgress(int progress, boolean animate)</code>這個方法來設定進度條更新的動畫，不過只能選擇開啟跟關閉，而且動畫的時間長度是固定的(80ms)。 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>1f中的f代表浮點數的意思。使用整數表達則(R,G,B)=(255,255,255)(32bit 深度) <a href="#fnref2" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Android Note </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android native </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown-it 渲染器測試</title>
      <link href="/2019/01/08/MarkDownItTest/"/>
      <url>/2019/01/08/MarkDownItTest/</url>
      
        <content type="html"><![CDATA[<p>按照Chris大的<a href="https://dwatow.github.io/2017/06-18-hexo/re-equip-hexo1/" target="_blank" rel="noopener">教學</a>改造了Hexo</p><p>現在來測試下效果，測試碼來自<a href="https://markdown-it.github.io/" target="_blank" rel="noopener">markdown-it</a></p><a id="more"></a><p>失效的部分：</p><h1 id="以下為測試碼"><a class="header-anchor" href="#以下為測試碼">¶</a>以下為測試碼</h1><hr><p><strong>Advertisement :)</strong></p><ul><li><strong><a href="https://nodeca.github.io/pica/demo/" target="_blank" rel="noopener">pica</a></strong> - high quality and fast image<br>resize in browser.</li><li><strong><a href="https://github.com/nodeca/babelfish/" target="_blank" rel="noopener">babelfish</a></strong> - developer friendly<br>i18n with plurals support and easy syntax.</li></ul><p>You will like those projects!</p><hr><h1 id="h1-heading-8"><a class="header-anchor" href="#h1-heading-8">¶</a>h1 Heading 8-)</h1><h2 id="h2-heading"><a class="header-anchor" href="#h2-heading">¶</a>h2 Heading</h2><h3 id="h3-heading"><a class="header-anchor" href="#h3-heading">¶</a>h3 Heading</h3><h4 id="h4-heading"><a class="header-anchor" href="#h4-heading">¶</a>h4 Heading</h4><h5 id="h5-heading"><a class="header-anchor" href="#h5-heading">¶</a>h5 Heading</h5><h6 id="h6-heading"><a class="header-anchor" href="#h6-heading">¶</a>h6 Heading</h6><h2 id="horizontal-rules"><a class="header-anchor" href="#horizontal-rules">¶</a>Horizontal Rules</h2><hr><hr><hr><h2 id="typographic-replacements"><a class="header-anchor" href="#typographic-replacements">¶</a>Typographic replacements</h2><p>Enable typographer option to see result.</p><p>© © ® ® ™ ™ § § ±</p><p>test… test… test… test?.. test!..</p><p>!!! ??? ,  – —</p><p>“Smartypants, double quotes” and ‘single quotes’</p><h2 id="emphasis"><a class="header-anchor" href="#emphasis">¶</a>Emphasis</h2><p><strong>This is bold text</strong></p><p><strong>This is bold text</strong></p><p><em>This is italic text</em></p><p><em>This is italic text</em></p><p><s>Strikethrough</s></p><h2 id="blockquotes"><a class="header-anchor" href="#blockquotes">¶</a>Blockquotes</h2><blockquote><p>Blockquotes can also be nested…</p><blockquote><p>…by using additional greater-than signs right next to each other…</p><blockquote><p>…or with spaces between arrows.</p></blockquote></blockquote></blockquote><h2 id="lists"><a class="header-anchor" href="#lists">¶</a>Lists</h2><p>Unordered</p><ul><li>Create a list by starting a line with <code>+</code>, <code>-</code>, or <code>*</code></li><li>Sub-lists are made by indenting 2 spaces:<ul><li>Marker character change forces new list start:<ul><li>Ac tristique libero volutpat at</li></ul><ul><li>Facilisis in pretium nisl aliquet</li></ul><ul><li>Nulla volutpat aliquam velit</li></ul></li></ul></li><li>Very easy!</li></ul><p>Ordered</p><ol><li><p>Lorem ipsum dolor sit amet</p></li><li><p>Consectetur adipiscing elit</p></li><li><p>Integer molestie lorem at massa</p></li><li><p>You can use sequential numbers…</p></li><li><p>…or keep all the numbers as <code>1.</code></p></li></ol><p>Start numbering with offset:</p><ol start="57"><li>foo</li><li>bar</li></ol><h2 id="code"><a class="header-anchor" href="#code">¶</a>Code</h2><p>Inline <code>code</code></p><p>Indented code</p><pre><code>// Some commentsline 1 of codeline 2 of codeline 3 of code</code></pre><p>Block code “fences”</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sample text here...</span><br></pre></td></tr></table></figure><p>Syntax highlighting</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params">bar</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> bar++;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(foo(<span class="number">5</span>));</span><br></pre></td></tr></table></figure><h2 id="tables"><a class="header-anchor" href="#tables">¶</a>Tables</h2><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td>data</td><td>path to data files to supply the data that will be passed into templates.</td></tr><tr><td>engine</td><td>engine to be used for processing templates. Handlebars is the default.</td></tr><tr><td>ext</td><td>extension to be used for dest files.</td></tr></tbody></table><p>Right aligned columns</p><table><thead><tr><th style="text-align:right">Option</th><th style="text-align:right">Description</th></tr></thead><tbody><tr><td style="text-align:right">data</td><td style="text-align:right">path to data files to supply the data that will be passed into templates.</td></tr><tr><td style="text-align:right">engine</td><td style="text-align:right">engine to be used for processing templates. Handlebars is the default.</td></tr><tr><td style="text-align:right">ext</td><td style="text-align:right">extension to be used for dest files.</td></tr></tbody></table><h2 id="links"><a class="header-anchor" href="#links">¶</a>Links</h2><p><a href="http://dev.nodeca.com" target="_blank" rel="noopener">link text</a></p><p><a href="http://nodeca.github.io/pica/demo/" title="title text!" target="_blank" rel="noopener">link with title</a></p><p>Autoconverted link <a href="https://github.com/nodeca/pica" target="_blank" rel="noopener">https://github.com/nodeca/pica</a> (enable linkify to see)</p><h2 id="images"><a class="header-anchor" href="#images">¶</a>Images</h2><p><img src="https://octodex.github.com/images/minion.png" alt="Minion"><br><img src="https://octodex.github.com/images/stormtroopocat.jpg" alt="Stormtroopocat" title="The Stormtroopocat"></p><p>Like links, Images also have a footnote style syntax</p><p><img src="https://octodex.github.com/images/dojocat.jpg" alt="Alt text" title="The Dojocat"></p><p>With a reference later in the document defining the URL location:</p><h2 id="plugins"><a class="header-anchor" href="#plugins">¶</a>Plugins</h2><p>The killer feature of <code>markdown-it</code> is very effective support of<br><a href="https://www.npmjs.org/browse/keyword/markdown-it-plugin" target="_blank" rel="noopener">syntax plugins</a>.</p><h3 id="emojies"><a class="header-anchor" href="#emojies">¶</a><a href="https://github.com/markdown-it/markdown-it-emoji" target="_blank" rel="noopener">Emojies</a></h3><blockquote><p>Classic markup: 😉 :crush: 😢 :tear: 😆 😋</p><p>Shortcuts (emoticons): :-) :-( 8-) ;)</p></blockquote><p>see <a href="https://github.com/markdown-it/markdown-it-emoji#change-output" target="_blank" rel="noopener">how to change output</a> with twemoji.</p><h3 id="subscript-superscript"><a class="header-anchor" href="#subscript-superscript">¶</a><a href="https://github.com/markdown-it/markdown-it-sub" target="_blank" rel="noopener">Subscript</a> / <a href="https://github.com/markdown-it/markdown-it-sup" target="_blank" rel="noopener">Superscript</a></h3><ul><li>19<sup>th</sup></li><li>H<sub>2</sub>O</li></ul><h3 id="ins"><a class="header-anchor" href="#ins">¶</a><a href="https://github.com/markdown-it/markdown-it-ins" target="_blank" rel="noopener">&lt;ins&gt;</a></h3><p><ins>Inserted text</ins></p><h3 id="mark"><a class="header-anchor" href="#mark">¶</a><a href="https://github.com/markdown-it/markdown-it-mark" target="_blank" rel="noopener">&lt;mark&gt;</a></h3><p><mark>Marked text</mark></p><h3 id="footnotes"><a class="header-anchor" href="#footnotes">¶</a><a href="https://github.com/markdown-it/markdown-it-footnote" target="_blank" rel="noopener">Footnotes</a></h3><p>Footnote 1 link<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>.</p><p>Footnote 2 link<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>.</p><p>Inline footnote<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> definition.</p><p>Duplicated footnote reference<sup class="footnote-ref"><a href="#fn2" id="fnref2:1">[2:1]</a></sup>.</p><h3 id="definition-lists"><a class="header-anchor" href="#definition-lists">¶</a><a href="https://github.com/markdown-it/markdown-it-deflist" target="_blank" rel="noopener">Definition lists</a></h3><dl><dt>Term 1</dt><dd><p>Definition 1<br>with lazy continuation.</p></dd><dt>Term 2 with <em>inline markup</em></dt><dd><p>Definition 2</p><pre><code>  { some code, part of Definition 2 }</code></pre><p>Third paragraph of definition 2.</p></dd></dl><p><em>Compact style:</em></p><dl><dt>Term 1</dt><dd>Definition 1</dd><dt>Term 2</dt><dd>Definition 2a</dd><dd>Definition 2b</dd></dl><h3 id="abbreviations"><a class="header-anchor" href="#abbreviations">¶</a><a href="https://github.com/markdown-it/markdown-it-abbr" target="_blank" rel="noopener">Abbreviations</a></h3><p>This is <abbr title="Hyper Text Markup Language">HTML</abbr> abbreviation example.</p><p>It converts “<abbr title="Hyper Text Markup Language">HTML</abbr>”, but keep intact partial entries like “xxxHTMLyyy” and so on.</p><h3 id="custom-containers"><a class="header-anchor" href="#custom-containers">¶</a><a href="https://github.com/markdown-it/markdown-it-container" target="_blank" rel="noopener">Custom containers</a></h3><div class="warning"><p><em>here be dragons</em></p></div><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>Footnote <strong>can have markup</strong></p><p>and multiple paragraphs. <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>Footnote text. <a href="#fnref2" class="footnote-backref">↩︎</a> <a href="#fnref2:1" class="footnote-backref">↩︎</a></p></li><li id="fn3" class="footnote-item"><p>Text of inline footnote <a href="#fnref3" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>HackMd 語法測試</title>
      <link href="/2019/01/08/HackMdTest/"/>
      <url>/2019/01/08/HackMdTest/</url>
      
        <content type="html"><![CDATA[<p>按照Chris大的<a href="https://dwatow.github.io/2017/06-18-hexo/re-equip-hexo1/" target="_blank" rel="noopener">教學</a>改造了Hexo</p><p>現在來測試下效果，測試碼來自<a href="https://hackmd.io/s/features-tw" target="_blank" rel="noopener">HackMd</a></p><a id="more"></a><p>失效的部分：</p><p>slideshare、speakerdeck、PDF、Font-Awesome icon<br>MahtJax、UML 圖表、警告區塊</p><p>程式碼區塊抓取有點問題，一定要換行<br><code>引用區塊標籤</code>失敗</p><p><code>接續上一個程式碼區塊的行號，使用 =+</code> 失敗</p><p>內部頁面用hashtag連結 <code>#title</code> ，跳轉會失敗(經過測試，是Theme的問題)</p><p>無痕模式下 imgur 圖床的圖片無法顯示</p><h1 id="以下為測試碼"><a class="header-anchor" href="#以下為測試碼">¶</a>以下為測試碼</h1><h1 id="功能介紹"><a class="header-anchor" href="#功能介紹">¶</a>功能介紹</h1><p><strong><a href="/features">English version</a></strong><br><strong><a href="/TKNuhom7S62OV6bDyBglXA">中文版</a></strong><br><strong><a href="/b_l4reliTdWOSn9SiCmbJQ">日本語版</a></strong></p><p><strong>請不要修改這份筆記</strong> 非常謝謝您 😄<br><strong>如果要說 嗨 或是 玩些東西，請至 <a href="/SA8inq7VTmO8jIWC5QsMcw">遊樂場</a></strong></p><h1 id="特賣會"><a class="header-anchor" href="#特賣會">¶</a>特賣會</h1><p><strong>歡迎來自 Front-End Developers Taiwan 的各位！</strong>💯<br><strong>歡迎來自 g0v 的各位！</strong>👍<br><strong>歡迎來自 程式人雜誌 的各位！</strong>😃</p><h1 id="簡介"><a class="header-anchor" href="#簡介">¶</a>簡介</h1><p><i class="fa fa-file-text"></i> <strong>HackMD</strong> 是個跨平台的 Markdown 即時協作筆記<br>所以您可以在<strong>電腦、平板甚至是手機</strong>與其他人做筆記！<br>同時也可以在 <strong><a href="/">首頁</a></strong> 透過 <strong>Facebook、Twitter、GitHub、Dropbox</strong> 登入</p><p>如有任何問題或是狀況，請至 <a href="https://github.com/hackmdio/hackmd-io-issues/issues/new" target="_blank" rel="noopener">GitHub</a> 回報問題<br>如果需要即時支援，請使用 <a href="https://www.messenger.com/t/hackmdio" target="_blank" rel="noopener">Facebook message</a><br><strong>謝謝您！</strong></p><h1 id="工作區"><a class="header-anchor" href="#工作區">¶</a>工作區</h1><h2 id="模式"><a class="header-anchor" href="#模式">¶</a>模式</h2><p><strong>電腦 &amp; 平板</strong></p><p><i class="fa fa-edit fa-fw"></i> 編輯：只看到編輯器<br><i class="fa fa-eye fa-fw"></i> 檢視：只看到結果<br><i class="fa fa-columns fa-fw"></i> 同時：同時看到兩邊</p><p><strong>手機</strong></p><p><i class="fa fa-toggle-on fa-fw"></i> 檢視：只看到結果<br><i class="fa fa-toggle-off fa-fw"></i> 編輯：只看到編輯器</p><h2 id="上傳圖片"><a class="header-anchor" href="#上傳圖片">¶</a>上傳圖片</h2><p>只要按下這個按鈕 <i class="fa fa-camera"></i><br>或是 <strong>拖放</strong> 圖片到編輯器，甚至 <strong>貼上</strong> 圖片也可以喔！<br>這會自動上傳圖片至 <strong><a href="http://imgur.com" target="_blank" rel="noopener">imgur</a></strong>，啥都不必煩惱了 🎉<br><img src="https://i.imgur.com/9cgQVqD.png" alt=""></p><h2 id="分享筆記"><a class="header-anchor" href="#分享筆記">¶</a>分享筆記</h2><p>如果您想分享 <strong>可編輯的</strong> 筆記，複製這份文件的網址就好<br>如果您想分享 <strong>只可讀的</strong> 筆記，按下這個按鈕 <i class="fa fa-share-alt"></i> 然後複製網址</p><h2 id="儲存"><a class="header-anchor" href="#儲存">¶</a>儲存</h2><p>目前可以儲存至 <strong>Dropbox</strong> <i class="fa fa-dropbox"></i> 或是存放 <strong>.md</strong> <i class="fa fa-file-text"></i> 到您的本機</p><h2 id="匯入"><a class="header-anchor" href="#匯入">¶</a>匯入</h2><p>就像上面的儲存功能，您可以從 <strong>Dropbox</strong> <i class="fa fa-dropbox"></i> 匯入 <strong>.md</strong> <i class="fa fa-file-text"></i><br>或是從 <strong>剪貼簿</strong> <i class="fa fa-clipboard"></i> 匯入，而且這可以轉換 <strong>html</strong> 喔 😃</p><h2 id="權限"><a class="header-anchor" href="#權限">¶</a>權限</h2><p>檢視右上方有個小按鈕可以修改筆記權限，目前有六種選項：</p><table><thead><tr><th style="text-align:left"></th><th style="text-align:center">擁有者 可讀/寫</th><th style="text-align:center">已登入者 可讀</th><th style="text-align:center">已登入者 可寫</th><th style="text-align:center">訪客 可讀</th><th style="text-align:center">訪客 可寫</th></tr></thead><tbody><tr><td style="text-align:left"><span class="text-nowrap"><i class="fa fa-leaf fa-fw"></i> <strong>Freely</strong></span></td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✔</td></tr><tr><td style="text-align:left"><span class="text-nowrap"><i class="fa fa-pencil fa-fw"></i> <strong>Editable</strong></span></td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✖</td></tr><tr><td style="text-align:left"><span class="text-nowrap"><i class="fa fa-id-card fa-fw"></i> <strong>Limited</strong></span></td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✖</td><td style="text-align:center">✖</td></tr><tr><td style="text-align:left"><span class="text-nowrap"><i class="fa fa-lock fa-fw"></i> <strong>Locked</strong></span></td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✖</td><td style="text-align:center">✔</td><td style="text-align:center">✖</td></tr><tr><td style="text-align:left"><span class="text-nowrap"><i class="fa fa-umbrella fa-fw"></i> <strong>Protected</strong></span></td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✖</td><td style="text-align:center">✖</td><td style="text-align:center">✖</td></tr><tr><td style="text-align:left"><span class="text-nowrap"><i class="fa fa-hand-stop-o fa-fw"></i> <strong>Private</strong></span></td><td style="text-align:center">✔</td><td style="text-align:center">✖</td><td style="text-align:center">✖</td><td style="text-align:center">✖</td><td style="text-align:center">✖</td></tr></tbody></table><p><strong>只有筆記的擁有者可以更改權限</strong></p><h2 id="嵌入"><a class="header-anchor" href="#嵌入">¶</a>嵌入</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"500"</span> <span class="attr">src</span>=<span class="string">"https://hackmd.io/features"</span> <span class="attr">frameborder</span>=<span class="string">"0"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="簡報模式"><a class="header-anchor" href="#簡報模式">¶</a><a href="/slide-example">簡報模式</a></h2><p>您可以使用一些語法將您的筆記分成投影片<br>然後用 <strong>簡報模式</strong> <i class="fa fa-tv"></i> 來展示，詳細請至上連結</p><h2 id="書籍模式"><a class="header-anchor" href="#書籍模式">¶</a><a href="/book-example">書籍模式</a></h2><p>您可以將您的筆記彙整成一本書<br>請將您的筆記連結列成清單<br>然後用 <strong>書籍模式</strong> <i class="fa fa-book"></i> 來展示，詳細請至上連結</p><h1 id="檢視"><a class="header-anchor" href="#檢視">¶</a>檢視</h1><h2 id="目錄"><a class="header-anchor" href="#目錄">¶</a>目錄</h2><p>在右下角有個目錄的小按鈕 <i class="fa fa-bars"></i><br>按下它會顯示目前的目錄，而且會標明你所在的區塊<br>支援到<strong>第三階段的標頭</strong></p><h2 id="永久連結"><a class="header-anchor" href="#永久連結">¶</a>永久連結</h2><p>每個標頭都會在右側自動加上永久連結<br>您可以在滑到上面並且按 <i class="fa fa-chain"></i> 去移到那個錨點</p><h1 id="編輯"><a class="header-anchor" href="#編輯">¶</a>編輯</h1><h2 id="快速鍵"><a class="header-anchor" href="#快速鍵">¶</a>快速鍵</h2><p>跟又快又方便的Sublime text很像</p><blockquote><p>更多訊息請至 <a href="https://codemirror.net/demo/sublime.html" target="_blank" rel="noopener">這裡</a></p></blockquote><h2 id="自動完成"><a class="header-anchor" href="#自動完成">¶</a>自動完成</h2><p>提供完整的 Markdown 自動完成與提示</p><ul><li><p>表情符號：輸入 <code>:</code> 顯示提示</p></li><li><p>標頭：輸入 <code>#</code> 顯示提示</p></li><li><p>參考：輸入 <code>[]</code> 顯示提示</p></li><li><p>外部：輸入 <code>{}</code> 顯示提示</p></li><li><p>圖片：輸入 <code>!</code> 顯示提示</p></li></ul><h2 id="標題"><a class="header-anchor" href="#標題">¶</a>標題</h2><p>會使用 <strong>第一個第一級標頭</strong> 作為筆記標題</p><h2 id="標籤"><a class="header-anchor" href="#標籤">¶</a>標籤</h2><p>如同以下方式來使用標籤，它們會顯示在您的 <strong>歷史紀錄</strong></p><h6 id="tags-功能-酷-更新"><a class="header-anchor" href="#tags-功能-酷-更新">¶</a>tags: <code>功能</code> <code>酷</code> <code>更新</code></h6><h2 id="yaml-metadata"><a class="header-anchor" href="#yaml-metadata">¶</a><a href="/yaml-metadata">YAML metadata</a></h2><p>提供描述筆記的資訊，以進階設定瀏覽行為，詳細請至上連結</p><ul><li>robots: 設定網路機器人 meta</li><li>lang: 設定瀏覽器顯示語言</li><li>dir: 設定文字方向</li><li>breaks: 設定是否使用分行</li><li>GA: 設定 Google Analytics</li><li>disqus: 設定 Disqus</li><li>slideOptions: 設定簡報模式的選項</li></ul><h2 id="toc"><a class="header-anchor" href="#toc">¶</a>ToC:</h2><p>請使用此語法 <code>[TOC]</code> 將目錄嵌入到您的筆記之中</p><p>[TOC]</p><h2 id="表情符號"><a class="header-anchor" href="#表情符號">¶</a>表情符號</h2><p>您可以像是這樣使用表情符號 😄 😃 😢 😉</p><blockquote><p>完整的表情符號列表 <a href="http://www.emoji-cheat-sheet.com/" target="_blank" rel="noopener">在這裡</a></p></blockquote><h2 id="待辦清單"><a class="header-anchor" href="#待辦清單">¶</a>待辦清單</h2><ul><li><input type="checkbox" id="checkbox0"><label for="checkbox0">待辦</label><ul><li><input type="checkbox" id="checkbox1" checked="true"><label for="checkbox1">買些沙拉</label></li><li><input type="checkbox" id="checkbox2" checked="true"><label for="checkbox2">刷牙</label></li><li><input type="checkbox" id="checkbox3"><label for="checkbox3">喝水</label></li></ul></li></ul><h2 id="程式碼區塊"><a class="header-anchor" href="#程式碼區塊">¶</a>程式碼區塊</h2><p>我們支援非常多程式語言，使用自動完成來看看有些什麼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">"JavaScript syntax highlighting"</span>;</span><br><span class="line">alert(s);</span><br><span class="line"><span class="function"><span class="keyword">function</span> $initHighlight(<span class="params">block, cls</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (cls.search(<span class="regexp">/\bno\-highlight\b/</span>) != <span class="number">-1</span>)</span><br><span class="line">      <span class="keyword">return</span> process(block, <span class="literal">true</span>, <span class="number">0x0F</span>) + </span><br><span class="line">             <span class="string">' class=""'</span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="comment">/* handle exception */</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span> / <span class="number">2</span>; i &lt; classes.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (checkCondition(classes[i]) === <span class="literal">undefined</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="regexp">/\d+[\s/]/g</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>如果想要 <strong>行號</strong>，在表明程式語言之後輸入 <code>=</code><br>您也可以指定開始行號，如下所示，行號從101開始</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">"JavaScript syntax highlighting"</span>;</span><br><span class="line">alert(s);</span><br><span class="line"><span class="function"><span class="keyword">function</span> $initHighlight(<span class="params">block, cls</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (cls.search(<span class="regexp">/\bno\-highlight\b/</span>) != <span class="number">-1</span>)</span><br><span class="line">      <span class="keyword">return</span> process(block, <span class="literal">true</span>, <span class="number">0x0F</span>) + </span><br><span class="line">             <span class="string">' class=""'</span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="comment">/* handle exception */</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span> / <span class="number">2</span>; i &lt; classes.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (checkCondition(classes[i]) === <span class="literal">undefined</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="regexp">/\d+[\s/]/g</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>或是可以接續上一個程式碼區塊的行號，使用 <code>=+</code></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">"JavaScript syntax highlighting"</span>;</span><br><span class="line">alert(s);</span><br></pre></td></tr></table></figure><h2 id="引用區塊標籤"><a class="header-anchor" href="#引用區塊標籤">¶</a>引用區塊標籤</h2><blockquote><p>您可以使用以下語法，表明自己的 <strong>姓名、時間與顏色</strong> 並與其他的引用區塊做區別<br>[name=ChengHan Wu] [time=Sun, Jun 28, 2015 9:59 PM] [color=#907bf7]</p><blockquote><p>也支援巢狀引用區塊喔！<br>[name=ChengHan Wu] [time=Sun, Jun 28, 2015 10:00 PM] [color=red]</p></blockquote></blockquote><h2 id="外部"><a class="header-anchor" href="#外部">¶</a>外部</h2><h3 id="youtube"><a class="header-anchor" href="#youtube">¶</a>Youtube</h3><div class="video-container"><iframe src="//www.youtube.com/embed/1G4isv_Fylg" frameborder="0" allowfullscreen></iframe></div><h3 id="vimeo"><a class="header-anchor" href="#vimeo">¶</a>Vimeo</h3><div class="video-container"><iframe src="//player.vimeo.com/video/124148255" frameborder="0" allowfullscreen></iframe></div><h3 id="gist"><a class="header-anchor" href="#gist">¶</a>Gist</h3><script src="//gist.github.com/schacon/4277.js"></script><h3 id="slideshare"><a class="header-anchor" href="#slideshare">¶</a>SlideShare</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;%slideshare briansolis/26-disruptive-technology-trends-2016-2018-56796196 %&#125;</span><br></pre></td></tr></table></figure><p>This is not worked!</p><h3 id="speakerdeck"><a class="header-anchor" href="#speakerdeck">¶</a>Speakerdeck</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;%speakerdeck sugarenia/xxlcss-how-to-scale-css-and-keep-your-sanity %&#125;</span><br></pre></td></tr></table></figure><p>This is not worked!</p><h3 id="pdf"><a class="header-anchor" href="#pdf">¶</a>PDF</h3><p><strong>注意：請使用 https 的網址，否則可能會被您的瀏覽器阻擋載入</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;%pdf https://papers.nips.cc/paper/5346-sequence-to-sequence-learning-with-neural-networks.pdf %&#125;</span><br></pre></td></tr></table></figure><p>This is not worked!</p><h2 id="mathjax"><a class="header-anchor" href="#mathjax">¶</a>MathJax</h2><p>您可以使用 <strong>MathJax</strong> 語法 來產生 <em>LaTeX</em> 數學表達式，如同 <a href="http://math.stackexchange.com/" target="_blank" rel="noopener">math.stackexchange.com</a>，但是開始的 <code>$</code> 後面以及結尾的 <code>$</code> 前面不能有空白：</p><p>The <em>Gamma function</em> satisfying $\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$ is via the Euler integral</p><p>$$<br>x = {-b \pm \sqrt{b^2-4ac} \over 2a}.<br>$$</p><p>$$<br>\Gamma(z) = \int_0^\infty t<sup>{z-1}e</sup>{-t}dt,.<br>$$</p><blockquote><p>更多關於 <strong>LaTeX</strong> 數學表達式 <a href="http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference" target="_blank" rel="noopener">請至這裡</a></p></blockquote><h2 id="uml-圖表"><a class="header-anchor" href="#uml-圖表">¶</a>UML 圖表</h2><h3 id="循序圖"><a class="header-anchor" href="#循序圖">¶</a>循序圖</h3><p>您可以像是以下使用循序圖：</p><div id="sequence-0"></div><h3 id="流程圖"><a class="header-anchor" href="#流程圖">¶</a>流程圖</h3><p>您可以像是以下使用流程圖：</p><div id="flowchart-0" class="flow-chart"></div><h3 id="graphviz"><a class="header-anchor" href="#graphviz">¶</a>Graphviz</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">digraph hierarchy &#123;</span><br><span class="line"></span><br><span class="line">                nodesep=1.0 // increases the separation between nodes</span><br><span class="line">                </span><br><span class="line">                node [color=Red,fontname=Courier,shape=box] //All nodes will this shape and colour</span><br><span class="line">                edge [color=Blue, style=dashed] //All the lines look like this</span><br><span class="line"></span><br><span class="line">                Headteacher-&gt;&#123;Deputy1 Deputy2 BusinessManager&#125;</span><br><span class="line">                Deputy1-&gt;&#123;Teacher1 Teacher2&#125;</span><br><span class="line">                BusinessManager-&gt;ITManager</span><br><span class="line">                &#123;rank=same;ITManager Teacher1 Teacher2&#125;  // Put them on the same level</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="mermaid"><a class="header-anchor" href="#mermaid">¶</a>Mermaid</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gantt</span><br><span class="line">    title A Gantt Diagram</span><br><span class="line"></span><br><span class="line">    section Section</span><br><span class="line">    A task           :a1, 2014-01-01, 30d</span><br><span class="line">    Another task     :after a1  , 20d</span><br><span class="line">    section Another</span><br><span class="line">    Task in sec      :2014-01-12  , 12d</span><br><span class="line">    anther task      : 24d</span><br></pre></td></tr></table></figure><h3 id="abc"><a class="header-anchor" href="#abc">¶</a>Abc</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">X:1</span><br><span class="line">T:Speed the Plough</span><br><span class="line">M:4/4</span><br><span class="line">C:Trad.</span><br><span class="line">K:G</span><br><span class="line">|:GABc dedB|dedB dedB|c2ec B2dB|c2A2 A2BA|</span><br><span class="line">GABc dedB|dedB dedB|c2ec B2dB|A2F2 G4:|</span><br><span class="line">|:g2gf gdBd|g2f2 e2d2|c2ec B2dB|c2A2 A2df|</span><br><span class="line">g2gf g2Bd|g2f2 e2d2|c2ec B2dB|A2F2 G4:|</span><br></pre></td></tr></table></figure><blockquote><p>更多關於 <strong>循序圖</strong> 語法 <a href="http://bramp.github.io/js-sequence-diagrams/" target="_blank" rel="noopener">在這裡</a>.<br>更多關於 <strong>流程圖</strong> 語法 <a href="http://adrai.github.io/flowchart.js/" target="_blank" rel="noopener">在這裡</a>.<br>更多關於 <strong>graphviz</strong> 語法 <a href="http://www.tonyballantyne.com/graphs.html" target="_blank" rel="noopener">在這裡</a><br>更多關於 <strong>mermaid</strong> 語法 <a href="http://knsv.github.io/mermaid" target="_blank" rel="noopener">在這裡</a><br>更多關於 <strong>abc</strong> 語法 <a href="http://abcnotation.com/learn" target="_blank" rel="noopener">在這裡</a></p></blockquote><h2 id="警告區塊"><a class="header-anchor" href="#警告區塊">¶</a>警告區塊</h2><div class="success"><p>耶 🎉</p></div><div class="info"><p>這是訊息 📣</p></div><div class="warning"><p>注意 ⚡️</p></div><div class="danger"><p>喔不 🔥</p></div><h2 id="排版"><a class="header-anchor" href="#排版">¶</a>排版</h2><h3 id="標頭"><a class="header-anchor" href="#標頭">¶</a>標頭</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># h1 標頭</span><br><span class="line">## h2 標頭</span><br><span class="line">### h3 標頭</span><br><span class="line">#### h4 標頭</span><br><span class="line">##### h5 標頭</span><br><span class="line">###### h6 標頭</span><br></pre></td></tr></table></figure><h3 id="水平分隔線"><a class="header-anchor" href="#水平分隔線">¶</a>水平分隔線</h3><hr><hr><hr><h3 id="字形替換"><a class="header-anchor" href="#字形替換">¶</a>字形替換</h3><p>© © ® ® ™ ™ § § ±</p><p>測試… 測試… 測試… 測試?.. 測試!..</p><p>!!! ??? ,</p><p>Remarkable – awesome</p><p>“Smartypants, 雙引號”</p><p>‘Smartypants, 單引號’</p><h3 id="強調"><a class="header-anchor" href="#強調">¶</a>強調</h3><p><strong>這是粗體文字</strong></p><p><strong>這是粗體文字</strong></p><p><em>這是斜體文字</em></p><p><em>這是斜體文字</em></p><p><s>這是刪除文字</s></p><p>上標： 19<sup>th</sup></p><p>下標： H<sub>2</sub>O</p><p><ins>這是底線文字</ins></p><p><mark>這是標記文字</mark></p><h3 id="引用區塊"><a class="header-anchor" href="#引用區塊">¶</a>引用區塊</h3><blockquote><p>引用區塊也可以是巢狀的喔…</p><blockquote><p>…可以多層次的使用…</p><blockquote><p>…或是用空白隔開</p></blockquote></blockquote></blockquote><h3 id="清單"><a class="header-anchor" href="#清單">¶</a>清單</h3><h4 id="項目"><a class="header-anchor" href="#項目">¶</a>項目</h4><ul><li>在行開頭使用 <code>+</code> <code>-</code> 或是 <code>*</code> 來建立清單</li><li>空兩個空白就可以產生子清單<ul><li>當清單標記使用的字元不同，會強制建立新的清單<ul><li>Ac tristique libero volutpat at</li></ul><ul><li>Facilisis in pretium nisl aliquet</li></ul><ul><li>Nulla volutpat aliquam velit</li></ul></li></ul></li><li>非常簡單！</li></ul><h4 id="編號"><a class="header-anchor" href="#編號">¶</a>編號</h4><ol><li><p>Lorem ipsum dolor sit amet</p></li><li><p>Consectetur adipiscing elit</p></li><li><p>Integer molestie lorem at massa</p></li><li><p>您可以逐次增加項目數字…</p></li><li><p>…或是全部都使用 <code>1.</code></p></li><li><p>feafw</p></li><li><p>332</p></li><li><p>242</p></li><li><p>2552</p></li><li><p>e2</p></li></ol><p>從其他範圍開始編號清單</p><ol start="57"><li>foo</li><li>bar</li></ol><h3 id="程式碼"><a class="header-anchor" href="#程式碼">¶</a>程式碼</h3><p>行內 <code>程式碼</code></p><p>縮排程式碼</p><pre><code>// Some commentsline 1 of codeline 2 of codeline 3 of code</code></pre><p>程式碼區塊</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sample text here...</span><br></pre></td></tr></table></figure><p>語法標色</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params">bar</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> bar++;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(foo(<span class="number">5</span>));</span><br></pre></td></tr></table></figure><h3 id="表格"><a class="header-anchor" href="#表格">¶</a>表格</h3><table><thead><tr><th>選項</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td>path to data files to supply the data that will be passed into templates.</td></tr><tr><td>engine</td><td>engine to be used for processing templates. Handlebars is the default.</td></tr><tr><td>ext</td><td>extension to be used for dest files.</td></tr></tbody></table><p>向右對齊</p><table><thead><tr><th style="text-align:right">選項</th><th style="text-align:right">描述</th></tr></thead><tbody><tr><td style="text-align:right">data</td><td style="text-align:right">path to data files to supply the data that will be passed into templates.</td></tr><tr><td style="text-align:right">engine</td><td style="text-align:right">engine to be used for processing templates. Handlebars is the default.</td></tr><tr><td style="text-align:right">ext</td><td style="text-align:right">extension to be used for dest files.</td></tr></tbody></table><p>向左對齊</p><table><thead><tr><th style="text-align:left">選項</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:left">data</td><td style="text-align:left">path to data files to supply the data that will be passed into templates.</td></tr><tr><td style="text-align:left">engine</td><td style="text-align:left">engine to be used for processing templates. Handlebars is the default.</td></tr><tr><td style="text-align:left">ext</td><td style="text-align:left">extension to be used for dest files.</td></tr></tbody></table><p>置中對齊</p><table><thead><tr><th style="text-align:center">選項</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">data</td><td style="text-align:center">path to data files to supply the data that will be passed into templates.</td></tr><tr><td style="text-align:center">engine</td><td style="text-align:center">engine to be used for processing templates. Handlebars is the default.</td></tr><tr><td style="text-align:center">ext</td><td style="text-align:center">extension to be used for dest files.</td></tr></tbody></table><h3 id="連結"><a class="header-anchor" href="#連結">¶</a>連結</h3><p><a href="http://dev.nodeca.com" target="_blank" rel="noopener">連結文字</a><br><a href="http://nodeca.github.io/pica/demo/" title="標題文字！" target="_blank" rel="noopener">加上標題的連結文字</a><br>自動轉換連結 <a href="https://github.com/nodeca/pica" target="_blank" rel="noopener">https://github.com/nodeca/pica</a></p><h3 id="圖片"><a class="header-anchor" href="#圖片">¶</a>圖片</h3><p><img src="https://octodex.github.com/images/minion.png" alt="Minion"><br><img src="https://octodex.github.com/images/stormtroopocat.jpg" alt="Stormtroopocat" title="The Stormtroopocat"><br>如同連結一般，圖片也可以用註腳語法<br><img src="https://octodex.github.com/images/dojocat.jpg" alt="Alt text" title="The Dojocat"><br>使用參考，可以在稍後的文件中再定義圖片網址</p><p><img src="https://octodex.github.com/images/minion.png" alt="Minion" width="200" height="200"><br>使用指定的大小顯示圖片</p><h3 id="註腳"><a class="header-anchor" href="#註腳">¶</a>註腳</h3><p>註腳 1 連結<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>.<br>註腳 2 連結<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>.<br>行內註腳<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> 定義<br>重複的註腳參考<sup class="footnote-ref"><a href="#fn2" id="fnref2:1">[2:1]</a></sup>.</p><h3 id="定義清單"><a class="header-anchor" href="#定義清單">¶</a>定義清單</h3><dl><dt>名詞 1</dt><dd><p>定義 1 快速連續項目</p></dd><dt>名詞 2 加上 <em>行內標記</em></dt><dd><p>定義 2</p><pre><code>  { 這些程式碼屬於 定義 2 的一部分 }</code></pre><p>定義 2 的第三段落</p></dd></dl><p><em>緊密樣式：</em></p><dl><dt>名詞 1</dt><dd>定義 1</dd><dt>名詞 2</dt><dd>定義 2a</dd><dd>定義 2b</dd></dl><h3 id="縮寫"><a class="header-anchor" href="#縮寫">¶</a>縮寫</h3><p>這是 <abbr title="Hyper Text Markup Language">HTML</abbr> 的縮寫範例<br>它會轉換 “<abbr title="Hyper Text Markup Language">HTML</abbr>”，但是縮寫旁邊其他的部分，例如：“xxxHTMLyyy”，不受影響</p><script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: 開始e=>end: 結束op=>operation: 我的操作op2=>operation: 啦啦啦cond=>condition: 是或否？st->op->op2->condcond(yes)->econd(no)->op2</textarea><textarea id="flowchart-0-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"></script><textarea id="sequence-0-code" style="display: none">艾莉絲->包柏: 哈摟，你好嗎？Note right of 包柏: 包柏思考中包柏-->艾莉絲: 我很好，謝謝！Note left of 艾莉絲: 艾莉絲回應艾莉絲->包柏: 最近過得怎樣？</textarea><textarea id="sequence-0-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("sequence-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("sequence-0-options").value));  var diagram = Diagram.parse(code);  diagram.drawSVG("sequence-0", options);</script><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>註腳 <strong>也可以標記</strong><br>還可以有很多段落 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>註腳 文字 <a href="#fnref2" class="footnote-backref">↩︎</a> <a href="#fnref2:1" class="footnote-backref">↩︎</a></p></li><li id="fn3" class="footnote-item"><p>行內註腳的文字 <a href="#fnref3" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
